"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/contentful-resolve-response";
exports.ids = ["vendor-chunks/contentful-resolve-response"];
exports.modules = {

/***/ "(ssr)/./node_modules/contentful-resolve-response/dist/esm/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/contentful-resolve-response/dist/esm/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var fast_copy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fast-copy */ \"(ssr)/./node_modules/fast-copy/dist/fast-copy.esm.js\");\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\nvar UNRESOLVED_LINK = {}; // unique object to avoid polyfill bloat using Symbol()\n\n/**\n * isLink Function\n * Checks if the object has sys.type \"Link\"\n * @param object\n */\nvar isLink = function isLink(object) {\n  return object && object.sys && object.sys.type === 'Link';\n};\n\n/**\n * isResourceLink Function\n * Checks if the object has sys.type \"ResourceLink\"\n * @param object\n */\nvar isResourceLink = function isResourceLink(object) {\n  return object && object.sys && object.sys.type === 'ResourceLink';\n};\n\n/**\n * Creates a key with spaceId and a key without for entityMap\n *\n * @param {*} sys\n * @param {String} sys.type\n * @param {String} sys.id\n * @param {*} sys.space\n * @param {*} sys.space.sys\n * @param {String} sys.space.id\n * @return {string[]}\n */\nvar makeEntityMapKeys = function makeEntityMapKeys(sys) {\n  if (sys.space && sys.environment) {\n    return [sys.type + '!' + sys.id, sys.space.sys.id + '!' + sys.environment.sys.id + '!' + sys.type + '!' + sys.id];\n  }\n\n  return [sys.type + '!' + sys.id];\n};\n\n/**\n * Looks up in entityMap\n *\n * @param entityMap\n * @param {*} linkData\n * @param {String} linkData.type\n * @param {String} linkData.linkType\n * @param {String} linkData.id\n * @param {String} linkData.urn\n * @return {String}\n */\nvar lookupInEntityMap = function lookupInEntityMap(entityMap, linkData) {\n  var entryId = linkData.entryId,\n      linkType = linkData.linkType,\n      spaceId = linkData.spaceId,\n      environmentId = linkData.environmentId;\n\n\n  if (spaceId && environmentId) {\n    return entityMap.get(spaceId + '!' + environmentId + '!' + linkType + '!' + entryId);\n  }\n\n  return entityMap.get(linkType + '!' + entryId);\n};\n\nvar getIdsFromUrn = function getIdsFromUrn(urn) {\n  var regExp = /.*:spaces\\/([^/]+)(?:\\/environments\\/([^/]+))?\\/entries\\/([^/]+)$/;\n\n  if (!regExp.test(urn)) {\n    return undefined;\n  }\n\n  var _urn$match = urn.match(regExp),\n      _urn$match2 = _slicedToArray(_urn$match, 4),\n      _ = _urn$match2[0],\n      spaceId = _urn$match2[1],\n      _urn$match2$ = _urn$match2[2],\n      environmentId = _urn$match2$ === undefined ? 'master' : _urn$match2$,\n      entryId = _urn$match2[3];\n\n  return { spaceId: spaceId, environmentId: environmentId, entryId: entryId };\n};\n\n/**\n * getResolvedLink Function\n *\n * @param entityMap\n * @param link\n * @return {undefined}\n */\nvar getResolvedLink = function getResolvedLink(entityMap, link) {\n  var _link$sys = link.sys,\n      type = _link$sys.type,\n      linkType = _link$sys.linkType;\n\n  if (type === 'ResourceLink') {\n    if (!linkType.startsWith('Contentful:')) {\n      return link;\n    }\n\n    var urn = link.sys.urn;\n\n    var _getIdsFromUrn = getIdsFromUrn(urn),\n        spaceId = _getIdsFromUrn.spaceId,\n        environmentId = _getIdsFromUrn.environmentId,\n        _entryId = _getIdsFromUrn.entryId;\n\n    var extractedLinkType = linkType.split(':')[1];\n\n    return lookupInEntityMap(entityMap, {\n      linkType: extractedLinkType,\n      entryId: _entryId,\n      spaceId: spaceId,\n      environmentId: environmentId\n    }) || UNRESOLVED_LINK;\n  }\n\n  var entryId = link.sys.id;\n\n  return lookupInEntityMap(entityMap, { linkType: linkType, entryId: entryId }) || UNRESOLVED_LINK;\n};\n\n/**\n * cleanUpLinks Function\n * - Removes unresolvable links from Arrays and Objects\n *\n * @param {Object[]|Object} input\n */\nvar cleanUpLinks = function cleanUpLinks(input) {\n  if (Array.isArray(input)) {\n    return input.filter(function (val) {\n      return val !== UNRESOLVED_LINK;\n    });\n  }\n  for (var key in input) {\n    if (input[key] === UNRESOLVED_LINK) {\n      delete input[key];\n    }\n  }\n  return input;\n};\n\n/**\n * walkMutate Function\n * @param input\n * @param predicate\n * @param mutator\n * @param removeUnresolved\n * @return {*}\n */\nvar walkMutate = function walkMutate(input, predicate, mutator, removeUnresolved) {\n  if (predicate(input)) {\n    return mutator(input);\n  }\n\n  if (input && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object') {\n    for (var key in input) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (input.hasOwnProperty(key)) {\n        input[key] = walkMutate(input[key], predicate, mutator, removeUnresolved);\n      }\n    }\n    if (removeUnresolved) {\n      input = cleanUpLinks(input);\n    }\n  }\n  return input;\n};\n\nvar normalizeLink = function normalizeLink(entityMap, link, removeUnresolved) {\n  var resolvedLink = getResolvedLink(entityMap, link);\n  if (resolvedLink === UNRESOLVED_LINK) {\n    return removeUnresolved ? resolvedLink : link;\n  }\n  return resolvedLink;\n};\n\nvar makeEntryObject = function makeEntryObject(item, itemEntryPoints) {\n  if (!Array.isArray(itemEntryPoints)) {\n    return item;\n  }\n\n  var entryPoints = Object.keys(item).filter(function (ownKey) {\n    return itemEntryPoints.indexOf(ownKey) !== -1;\n  });\n\n  return entryPoints.reduce(function (entryObj, entryPoint) {\n    entryObj[entryPoint] = item[entryPoint];\n    return entryObj;\n  }, {});\n};\n\n/**\n * resolveResponse Function\n * Resolves contentful response to normalized form.\n * @param {Object} response Contentful response\n * @param {{removeUnresolved: Boolean, itemEntryPoints: Array<String>}|{}} options\n * @param {Boolean} options.removeUnresolved - Remove unresolved links default:false\n * @param {Array<String>} options.itemEntryPoints - Resolve links only in those item properties\n * @return {Object}\n */\nvar resolveResponse = function resolveResponse(response, options) {\n  options = options || {};\n  if (!response.items) {\n    return [];\n  }\n  var responseClone = (0,fast_copy__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(response);\n  var allIncludes = Object.keys(responseClone.includes || {}).reduce(function (all, type) {\n    return [].concat(_toConsumableArray(all), _toConsumableArray(response.includes[type]));\n  }, []);\n\n  var allEntries = [].concat(_toConsumableArray(responseClone.items), _toConsumableArray(allIncludes)).filter(function (entity) {\n    return Boolean(entity.sys);\n  });\n\n  var entityMap = new Map(allEntries.reduce(function (acc, entity) {\n    var entries = makeEntityMapKeys(entity.sys).map(function (key) {\n      return [key, entity];\n    });\n    acc.push.apply(acc, _toConsumableArray(entries));\n    return acc;\n  }, []));\n\n  allEntries.forEach(function (item) {\n    var entryObject = makeEntryObject(item, options.itemEntryPoints);\n\n    Object.assign(item, walkMutate(entryObject, function (x) {\n      return isLink(x) || isResourceLink(x);\n    }, function (link) {\n      return normalizeLink(entityMap, link, options.removeUnresolved);\n    }, options.removeUnresolved));\n  });\n\n  return responseClone.items;\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (resolveResponse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udGVudGZ1bC1yZXNvbHZlLXJlc3BvbnNlL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEscUdBQXFHLHFCQUFxQixtQkFBbUI7O0FBRTdJLG1DQUFtQyxpQ0FBaUMsZUFBZSxlQUFlLGdCQUFnQixvQkFBb0IsTUFBTSwwQ0FBMEMsK0JBQStCLGFBQWEscUJBQXFCLHVDQUF1QyxjQUFjLFdBQVcsWUFBWSxVQUFVLE1BQU0sMkNBQTJDLFVBQVUsc0JBQXNCLGVBQWUsMkJBQTJCLDBCQUEwQixjQUFjLDJDQUEyQyxnQ0FBZ0MsT0FBTyxtRkFBbUY7O0FBRXJwQixtQ0FBbUMsMEJBQTBCLDBDQUEwQyxnQkFBZ0IsT0FBTyxvQkFBb0IsZUFBZSxPQUFPOztBQUUzSTs7QUFFN0IsMEJBQTBCOztBQUUxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLFFBQVE7QUFDbkIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUEsd0NBQXdDLHNDQUFzQztBQUM5RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSwwREFBMEQsS0FBSztBQUMzRSxXQUFXLFNBQVM7QUFDcEIsV0FBVyxlQUFlO0FBQzFCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IscURBQUk7QUFDMUIsNERBQTREO0FBQzVEO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTs7QUFFQSxpRUFBZSxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9ydGZvbGlvLy4vbm9kZV9tb2R1bGVzL2NvbnRlbnRmdWwtcmVzb2x2ZS1yZXNwb25zZS9kaXN0L2VzbS9pbmRleC5qcz81MWZlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuaW1wb3J0IGNvcHkgZnJvbSAnZmFzdC1jb3B5JztcblxudmFyIFVOUkVTT0xWRURfTElOSyA9IHt9OyAvLyB1bmlxdWUgb2JqZWN0IHRvIGF2b2lkIHBvbHlmaWxsIGJsb2F0IHVzaW5nIFN5bWJvbCgpXG5cbi8qKlxuICogaXNMaW5rIEZ1bmN0aW9uXG4gKiBDaGVja3MgaWYgdGhlIG9iamVjdCBoYXMgc3lzLnR5cGUgXCJMaW5rXCJcbiAqIEBwYXJhbSBvYmplY3RcbiAqL1xudmFyIGlzTGluayA9IGZ1bmN0aW9uIGlzTGluayhvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCAmJiBvYmplY3Quc3lzICYmIG9iamVjdC5zeXMudHlwZSA9PT0gJ0xpbmsnO1xufTtcblxuLyoqXG4gKiBpc1Jlc291cmNlTGluayBGdW5jdGlvblxuICogQ2hlY2tzIGlmIHRoZSBvYmplY3QgaGFzIHN5cy50eXBlIFwiUmVzb3VyY2VMaW5rXCJcbiAqIEBwYXJhbSBvYmplY3RcbiAqL1xudmFyIGlzUmVzb3VyY2VMaW5rID0gZnVuY3Rpb24gaXNSZXNvdXJjZUxpbmsob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LnN5cyAmJiBvYmplY3Quc3lzLnR5cGUgPT09ICdSZXNvdXJjZUxpbmsnO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEga2V5IHdpdGggc3BhY2VJZCBhbmQgYSBrZXkgd2l0aG91dCBmb3IgZW50aXR5TWFwXG4gKlxuICogQHBhcmFtIHsqfSBzeXNcbiAqIEBwYXJhbSB7U3RyaW5nfSBzeXMudHlwZVxuICogQHBhcmFtIHtTdHJpbmd9IHN5cy5pZFxuICogQHBhcmFtIHsqfSBzeXMuc3BhY2VcbiAqIEBwYXJhbSB7Kn0gc3lzLnNwYWNlLnN5c1xuICogQHBhcmFtIHtTdHJpbmd9IHN5cy5zcGFjZS5pZFxuICogQHJldHVybiB7c3RyaW5nW119XG4gKi9cbnZhciBtYWtlRW50aXR5TWFwS2V5cyA9IGZ1bmN0aW9uIG1ha2VFbnRpdHlNYXBLZXlzKHN5cykge1xuICBpZiAoc3lzLnNwYWNlICYmIHN5cy5lbnZpcm9ubWVudCkge1xuICAgIHJldHVybiBbc3lzLnR5cGUgKyAnIScgKyBzeXMuaWQsIHN5cy5zcGFjZS5zeXMuaWQgKyAnIScgKyBzeXMuZW52aXJvbm1lbnQuc3lzLmlkICsgJyEnICsgc3lzLnR5cGUgKyAnIScgKyBzeXMuaWRdO1xuICB9XG5cbiAgcmV0dXJuIFtzeXMudHlwZSArICchJyArIHN5cy5pZF07XG59O1xuXG4vKipcbiAqIExvb2tzIHVwIGluIGVudGl0eU1hcFxuICpcbiAqIEBwYXJhbSBlbnRpdHlNYXBcbiAqIEBwYXJhbSB7Kn0gbGlua0RhdGFcbiAqIEBwYXJhbSB7U3RyaW5nfSBsaW5rRGF0YS50eXBlXG4gKiBAcGFyYW0ge1N0cmluZ30gbGlua0RhdGEubGlua1R5cGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBsaW5rRGF0YS5pZFxuICogQHBhcmFtIHtTdHJpbmd9IGxpbmtEYXRhLnVyblxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG52YXIgbG9va3VwSW5FbnRpdHlNYXAgPSBmdW5jdGlvbiBsb29rdXBJbkVudGl0eU1hcChlbnRpdHlNYXAsIGxpbmtEYXRhKSB7XG4gIHZhciBlbnRyeUlkID0gbGlua0RhdGEuZW50cnlJZCxcbiAgICAgIGxpbmtUeXBlID0gbGlua0RhdGEubGlua1R5cGUsXG4gICAgICBzcGFjZUlkID0gbGlua0RhdGEuc3BhY2VJZCxcbiAgICAgIGVudmlyb25tZW50SWQgPSBsaW5rRGF0YS5lbnZpcm9ubWVudElkO1xuXG5cbiAgaWYgKHNwYWNlSWQgJiYgZW52aXJvbm1lbnRJZCkge1xuICAgIHJldHVybiBlbnRpdHlNYXAuZ2V0KHNwYWNlSWQgKyAnIScgKyBlbnZpcm9ubWVudElkICsgJyEnICsgbGlua1R5cGUgKyAnIScgKyBlbnRyeUlkKTtcbiAgfVxuXG4gIHJldHVybiBlbnRpdHlNYXAuZ2V0KGxpbmtUeXBlICsgJyEnICsgZW50cnlJZCk7XG59O1xuXG52YXIgZ2V0SWRzRnJvbVVybiA9IGZ1bmN0aW9uIGdldElkc0Zyb21Vcm4odXJuKSB7XG4gIHZhciByZWdFeHAgPSAvLio6c3BhY2VzXFwvKFteL10rKSg/OlxcL2Vudmlyb25tZW50c1xcLyhbXi9dKykpP1xcL2VudHJpZXNcXC8oW14vXSspJC87XG5cbiAgaWYgKCFyZWdFeHAudGVzdCh1cm4pKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBfdXJuJG1hdGNoID0gdXJuLm1hdGNoKHJlZ0V4cCksXG4gICAgICBfdXJuJG1hdGNoMiA9IF9zbGljZWRUb0FycmF5KF91cm4kbWF0Y2gsIDQpLFxuICAgICAgXyA9IF91cm4kbWF0Y2gyWzBdLFxuICAgICAgc3BhY2VJZCA9IF91cm4kbWF0Y2gyWzFdLFxuICAgICAgX3VybiRtYXRjaDIkID0gX3VybiRtYXRjaDJbMl0sXG4gICAgICBlbnZpcm9ubWVudElkID0gX3VybiRtYXRjaDIkID09PSB1bmRlZmluZWQgPyAnbWFzdGVyJyA6IF91cm4kbWF0Y2gyJCxcbiAgICAgIGVudHJ5SWQgPSBfdXJuJG1hdGNoMlszXTtcblxuICByZXR1cm4geyBzcGFjZUlkOiBzcGFjZUlkLCBlbnZpcm9ubWVudElkOiBlbnZpcm9ubWVudElkLCBlbnRyeUlkOiBlbnRyeUlkIH07XG59O1xuXG4vKipcbiAqIGdldFJlc29sdmVkTGluayBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSBlbnRpdHlNYXBcbiAqIEBwYXJhbSBsaW5rXG4gKiBAcmV0dXJuIHt1bmRlZmluZWR9XG4gKi9cbnZhciBnZXRSZXNvbHZlZExpbmsgPSBmdW5jdGlvbiBnZXRSZXNvbHZlZExpbmsoZW50aXR5TWFwLCBsaW5rKSB7XG4gIHZhciBfbGluayRzeXMgPSBsaW5rLnN5cyxcbiAgICAgIHR5cGUgPSBfbGluayRzeXMudHlwZSxcbiAgICAgIGxpbmtUeXBlID0gX2xpbmskc3lzLmxpbmtUeXBlO1xuXG4gIGlmICh0eXBlID09PSAnUmVzb3VyY2VMaW5rJykge1xuICAgIGlmICghbGlua1R5cGUuc3RhcnRzV2l0aCgnQ29udGVudGZ1bDonKSkge1xuICAgICAgcmV0dXJuIGxpbms7XG4gICAgfVxuXG4gICAgdmFyIHVybiA9IGxpbmsuc3lzLnVybjtcblxuICAgIHZhciBfZ2V0SWRzRnJvbVVybiA9IGdldElkc0Zyb21Vcm4odXJuKSxcbiAgICAgICAgc3BhY2VJZCA9IF9nZXRJZHNGcm9tVXJuLnNwYWNlSWQsXG4gICAgICAgIGVudmlyb25tZW50SWQgPSBfZ2V0SWRzRnJvbVVybi5lbnZpcm9ubWVudElkLFxuICAgICAgICBfZW50cnlJZCA9IF9nZXRJZHNGcm9tVXJuLmVudHJ5SWQ7XG5cbiAgICB2YXIgZXh0cmFjdGVkTGlua1R5cGUgPSBsaW5rVHlwZS5zcGxpdCgnOicpWzFdO1xuXG4gICAgcmV0dXJuIGxvb2t1cEluRW50aXR5TWFwKGVudGl0eU1hcCwge1xuICAgICAgbGlua1R5cGU6IGV4dHJhY3RlZExpbmtUeXBlLFxuICAgICAgZW50cnlJZDogX2VudHJ5SWQsXG4gICAgICBzcGFjZUlkOiBzcGFjZUlkLFxuICAgICAgZW52aXJvbm1lbnRJZDogZW52aXJvbm1lbnRJZFxuICAgIH0pIHx8IFVOUkVTT0xWRURfTElOSztcbiAgfVxuXG4gIHZhciBlbnRyeUlkID0gbGluay5zeXMuaWQ7XG5cbiAgcmV0dXJuIGxvb2t1cEluRW50aXR5TWFwKGVudGl0eU1hcCwgeyBsaW5rVHlwZTogbGlua1R5cGUsIGVudHJ5SWQ6IGVudHJ5SWQgfSkgfHwgVU5SRVNPTFZFRF9MSU5LO1xufTtcblxuLyoqXG4gKiBjbGVhblVwTGlua3MgRnVuY3Rpb25cbiAqIC0gUmVtb3ZlcyB1bnJlc29sdmFibGUgbGlua3MgZnJvbSBBcnJheXMgYW5kIE9iamVjdHNcbiAqXG4gKiBAcGFyYW0ge09iamVjdFtdfE9iamVjdH0gaW5wdXRcbiAqL1xudmFyIGNsZWFuVXBMaW5rcyA9IGZ1bmN0aW9uIGNsZWFuVXBMaW5rcyhpbnB1dCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICByZXR1cm4gaW5wdXQuZmlsdGVyKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiB2YWwgIT09IFVOUkVTT0xWRURfTElOSztcbiAgICB9KTtcbiAgfVxuICBmb3IgKHZhciBrZXkgaW4gaW5wdXQpIHtcbiAgICBpZiAoaW5wdXRba2V5XSA9PT0gVU5SRVNPTFZFRF9MSU5LKSB7XG4gICAgICBkZWxldGUgaW5wdXRba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGlucHV0O1xufTtcblxuLyoqXG4gKiB3YWxrTXV0YXRlIEZ1bmN0aW9uXG4gKiBAcGFyYW0gaW5wdXRcbiAqIEBwYXJhbSBwcmVkaWNhdGVcbiAqIEBwYXJhbSBtdXRhdG9yXG4gKiBAcGFyYW0gcmVtb3ZlVW5yZXNvbHZlZFxuICogQHJldHVybiB7Kn1cbiAqL1xudmFyIHdhbGtNdXRhdGUgPSBmdW5jdGlvbiB3YWxrTXV0YXRlKGlucHV0LCBwcmVkaWNhdGUsIG11dGF0b3IsIHJlbW92ZVVucmVzb2x2ZWQpIHtcbiAgaWYgKHByZWRpY2F0ZShpbnB1dCkpIHtcbiAgICByZXR1cm4gbXV0YXRvcihpbnB1dCk7XG4gIH1cblxuICBpZiAoaW5wdXQgJiYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoaW5wdXQpKSA9PT0gJ29iamVjdCcpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gaW5wdXQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgIGlmIChpbnB1dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGlucHV0W2tleV0gPSB3YWxrTXV0YXRlKGlucHV0W2tleV0sIHByZWRpY2F0ZSwgbXV0YXRvciwgcmVtb3ZlVW5yZXNvbHZlZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyZW1vdmVVbnJlc29sdmVkKSB7XG4gICAgICBpbnB1dCA9IGNsZWFuVXBMaW5rcyhpbnB1dCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbnB1dDtcbn07XG5cbnZhciBub3JtYWxpemVMaW5rID0gZnVuY3Rpb24gbm9ybWFsaXplTGluayhlbnRpdHlNYXAsIGxpbmssIHJlbW92ZVVucmVzb2x2ZWQpIHtcbiAgdmFyIHJlc29sdmVkTGluayA9IGdldFJlc29sdmVkTGluayhlbnRpdHlNYXAsIGxpbmspO1xuICBpZiAocmVzb2x2ZWRMaW5rID09PSBVTlJFU09MVkVEX0xJTkspIHtcbiAgICByZXR1cm4gcmVtb3ZlVW5yZXNvbHZlZCA/IHJlc29sdmVkTGluayA6IGxpbms7XG4gIH1cbiAgcmV0dXJuIHJlc29sdmVkTGluaztcbn07XG5cbnZhciBtYWtlRW50cnlPYmplY3QgPSBmdW5jdGlvbiBtYWtlRW50cnlPYmplY3QoaXRlbSwgaXRlbUVudHJ5UG9pbnRzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShpdGVtRW50cnlQb2ludHMpKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cblxuICB2YXIgZW50cnlQb2ludHMgPSBPYmplY3Qua2V5cyhpdGVtKS5maWx0ZXIoZnVuY3Rpb24gKG93bktleSkge1xuICAgIHJldHVybiBpdGVtRW50cnlQb2ludHMuaW5kZXhPZihvd25LZXkpICE9PSAtMTtcbiAgfSk7XG5cbiAgcmV0dXJuIGVudHJ5UG9pbnRzLnJlZHVjZShmdW5jdGlvbiAoZW50cnlPYmosIGVudHJ5UG9pbnQpIHtcbiAgICBlbnRyeU9ialtlbnRyeVBvaW50XSA9IGl0ZW1bZW50cnlQb2ludF07XG4gICAgcmV0dXJuIGVudHJ5T2JqO1xuICB9LCB7fSk7XG59O1xuXG4vKipcbiAqIHJlc29sdmVSZXNwb25zZSBGdW5jdGlvblxuICogUmVzb2x2ZXMgY29udGVudGZ1bCByZXNwb25zZSB0byBub3JtYWxpemVkIGZvcm0uXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UgQ29udGVudGZ1bCByZXNwb25zZVxuICogQHBhcmFtIHt7cmVtb3ZlVW5yZXNvbHZlZDogQm9vbGVhbiwgaXRlbUVudHJ5UG9pbnRzOiBBcnJheTxTdHJpbmc+fXx7fX0gb3B0aW9uc1xuICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLnJlbW92ZVVucmVzb2x2ZWQgLSBSZW1vdmUgdW5yZXNvbHZlZCBsaW5rcyBkZWZhdWx0OmZhbHNlXG4gKiBAcGFyYW0ge0FycmF5PFN0cmluZz59IG9wdGlvbnMuaXRlbUVudHJ5UG9pbnRzIC0gUmVzb2x2ZSBsaW5rcyBvbmx5IGluIHRob3NlIGl0ZW0gcHJvcGVydGllc1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgcmVzb2x2ZVJlc3BvbnNlID0gZnVuY3Rpb24gcmVzb2x2ZVJlc3BvbnNlKHJlc3BvbnNlLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIXJlc3BvbnNlLml0ZW1zKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHZhciByZXNwb25zZUNsb25lID0gY29weShyZXNwb25zZSk7XG4gIHZhciBhbGxJbmNsdWRlcyA9IE9iamVjdC5rZXlzKHJlc3BvbnNlQ2xvbmUuaW5jbHVkZXMgfHwge30pLnJlZHVjZShmdW5jdGlvbiAoYWxsLCB0eXBlKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYWxsKSwgX3RvQ29uc3VtYWJsZUFycmF5KHJlc3BvbnNlLmluY2x1ZGVzW3R5cGVdKSk7XG4gIH0sIFtdKTtcblxuICB2YXIgYWxsRW50cmllcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocmVzcG9uc2VDbG9uZS5pdGVtcyksIF90b0NvbnN1bWFibGVBcnJheShhbGxJbmNsdWRlcykpLmZpbHRlcihmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oZW50aXR5LnN5cyk7XG4gIH0pO1xuXG4gIHZhciBlbnRpdHlNYXAgPSBuZXcgTWFwKGFsbEVudHJpZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGVudGl0eSkge1xuICAgIHZhciBlbnRyaWVzID0gbWFrZUVudGl0eU1hcEtleXMoZW50aXR5LnN5cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBlbnRpdHldO1xuICAgIH0pO1xuICAgIGFjYy5wdXNoLmFwcGx5KGFjYywgX3RvQ29uc3VtYWJsZUFycmF5KGVudHJpZXMpKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCBbXSkpO1xuXG4gIGFsbEVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHZhciBlbnRyeU9iamVjdCA9IG1ha2VFbnRyeU9iamVjdChpdGVtLCBvcHRpb25zLml0ZW1FbnRyeVBvaW50cyk7XG5cbiAgICBPYmplY3QuYXNzaWduKGl0ZW0sIHdhbGtNdXRhdGUoZW50cnlPYmplY3QsIGZ1bmN0aW9uICh4KSB7XG4gICAgICByZXR1cm4gaXNMaW5rKHgpIHx8IGlzUmVzb3VyY2VMaW5rKHgpO1xuICAgIH0sIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplTGluayhlbnRpdHlNYXAsIGxpbmssIG9wdGlvbnMucmVtb3ZlVW5yZXNvbHZlZCk7XG4gICAgfSwgb3B0aW9ucy5yZW1vdmVVbnJlc29sdmVkKSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXNwb25zZUNsb25lLml0ZW1zO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVzb2x2ZVJlc3BvbnNlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/contentful-resolve-response/dist/esm/index.js\n");

/***/ })

};
;